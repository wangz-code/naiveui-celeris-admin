import{d as e,v as a,z as t,y as n,Q as r,U as o,D as i,C as s,b4 as l,a as d,as as u,l as c,a1 as p,F as m,Y as v,G as g,aC as h,H as b,N as f,ag as w,ax as F}from"./index-n-eiTXQj.js";import{u as k}from"./use-locale-Dx0d4G3S.js";import{u as x}from"./use-merged-state-B3xCzUT8.js";import{N as C}from"./Input-BGa2amYz.js";import{_ as y}from"./Select-BM4FjVz0.js";import{a as z,B,b as P,F as M}from"./Forward-CxNXahuk.js";import{_ as S}from"./Popselect-7ElBVaBN.js";import{u as I}from"./Popover-C3AWj2Sm.js";function j(e){switch(e){case"tiny":return"mini";case"small":return"tiny";case"medium":return"small";case"large":return"medium";case"huge":return"large"}throw new Error(`${e} has no smaller size.`)}const $=e({name:"More",render:()=>a("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a("g",{fill:"currentColor","fill-rule":"nonzero"},a("path",{d:"M4,7 C4.55228,7 5,7.44772 5,8 C5,8.55229 4.55228,9 4,9 C3.44772,9 3,8.55229 3,8 C3,7.44772 3.44772,7 4,7 Z M8,7 C8.55229,7 9,7.44772 9,8 C9,8.55229 8.55229,9 8,9 C7.44772,9 7,8.55229 7,8 C7,7.44772 7.44772,7 8,7 Z M12,7 C12.5523,7 13,7.44772 13,8 C13,8.55229 12.5523,9 12,9 C11.4477,9 11,8.55229 11,8 C11,7.44772 11.4477,7 12,7 Z"}))))}),T="\n background: var(--n-item-color-hover);\n color: var(--n-item-text-color-hover);\n border: var(--n-item-border-hover);\n",A=[r("button","\n background: var(--n-button-color-hover);\n border: var(--n-button-border-hover);\n color: var(--n-button-icon-color-hover);\n ")],O=t("pagination","\n display: flex;\n vertical-align: middle;\n font-size: var(--n-item-font-size);\n flex-wrap: nowrap;\n",[t("pagination-prefix","\n display: flex;\n align-items: center;\n margin: var(--n-prefix-margin);\n "),t("pagination-suffix","\n display: flex;\n align-items: center;\n margin: var(--n-suffix-margin);\n "),n("> *:not(:first-child)","\n margin: var(--n-item-margin);\n "),t("select","\n width: var(--n-select-width);\n "),n("&.transition-disabled",[t("pagination-item","transition: none!important;")]),t("pagination-quick-jumper","\n white-space: nowrap;\n display: flex;\n color: var(--n-jumper-text-color);\n transition: color .3s var(--n-bezier);\n align-items: center;\n font-size: var(--n-jumper-font-size);\n ",[t("input","\n margin: var(--n-input-margin);\n width: var(--n-input-width);\n ")]),t("pagination-item","\n position: relative;\n cursor: pointer;\n user-select: none;\n -webkit-user-select: none;\n display: flex;\n align-items: center;\n justify-content: center;\n box-sizing: border-box;\n min-width: var(--n-item-size);\n height: var(--n-item-size);\n padding: var(--n-item-padding);\n background-color: var(--n-item-color);\n color: var(--n-item-text-color);\n border-radius: var(--n-item-border-radius);\n border: var(--n-item-border);\n fill: var(--n-button-icon-color);\n transition:\n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n fill .3s var(--n-bezier);\n ",[r("button","\n background: var(--n-button-color);\n color: var(--n-button-icon-color);\n border: var(--n-button-border);\n padding: 0;\n ",[t("base-icon","\n font-size: var(--n-button-icon-size);\n ")]),o("disabled",[r("hover",T,A),n("&:hover",T,A),n("&:active","\n background: var(--n-item-color-pressed);\n color: var(--n-item-text-color-pressed);\n border: var(--n-item-border-pressed);\n ",[r("button","\n background: var(--n-button-color-pressed);\n border: var(--n-button-border-pressed);\n color: var(--n-button-icon-color-pressed);\n ")]),r("active","\n background: var(--n-item-color-active);\n color: var(--n-item-text-color-active);\n border: var(--n-item-border-active);\n ",[n("&:hover","\n background: var(--n-item-color-active-hover);\n ")])]),r("disabled","\n cursor: not-allowed;\n color: var(--n-item-text-color-disabled);\n ",[r("active, button","\n background-color: var(--n-item-color-disabled);\n border: var(--n-item-border-disabled);\n ")])]),r("disabled","\n cursor: not-allowed;\n ",[t("pagination-quick-jumper","\n color: var(--n-jumper-text-color-disabled);\n ")]),r("simple","\n display: flex;\n align-items: center;\n flex-wrap: nowrap;\n ",[t("pagination-quick-jumper",[t("input","\n margin: 0;\n ")])])]);function N(e){var a;if(!e)return 10;const{defaultPageSize:t}=e;if(void 0!==t)return t;const n=null===(a=e.pageSizes)||void 0===a?void 0:a[0];return"number"==typeof n?n:(null==n?void 0:n.value)||10}function U(e,a){const t=[];for(let n=e;n<=a;++n)t.push({label:`${n}`,value:n});return t}const R=e({name:"Pagination",props:Object.assign(Object.assign({},s.props),{simple:Boolean,page:Number,defaultPage:{type:Number,default:1},itemCount:Number,pageCount:Number,defaultPageCount:{type:Number,default:1},showSizePicker:Boolean,pageSize:Number,defaultPageSize:Number,pageSizes:{type:Array,default:()=>[10]},showQuickJumper:Boolean,size:{type:String,default:"medium"},disabled:Boolean,pageSlot:{type:Number,default:9},selectProps:Object,prev:Function,next:Function,goto:Function,prefix:Function,suffix:Function,label:Function,displayOrder:{type:Array,default:["pages","size-picker","quick-jumper"]},to:I.propTo,showQuickJumpDropdown:{type:Boolean,default:!0},"onUpdate:page":[Function,Array],onUpdatePage:[Function,Array],"onUpdate:pageSize":[Function,Array],onUpdatePageSize:[Function,Array],onPageSizeChange:[Function,Array],onChange:[Function,Array]}),setup(e){const{mergedComponentPropsRef:a,mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=i(e),o=s("Pagination","-pagination",O,l,e,t),{localeRef:h}=k("Pagination"),b=d(null),f=d(e.defaultPage),C=d(N(e)),y=x(u(e,"page"),f),z=x(u(e,"pageSize"),C),B=c((()=>{const{itemCount:a}=e;if(void 0!==a)return Math.max(1,Math.ceil(a/z.value));const{pageCount:t}=e;return void 0!==t?Math.max(t,1):1})),P=d("");p((()=>{e.simple,P.value=String(y.value)}));const M=d(!1),S=d(!1),I=d(!1),$=d(!1),T=c((()=>function(e,a,t,n){let r=!1,o=!1,i=1,s=a;if(1===a)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:s,fastBackwardTo:i,items:[{type:"page",label:1,active:1===e,mayBeFastBackward:!1,mayBeFastForward:!1}]};if(2===a)return{hasFastBackward:!1,hasFastForward:!1,fastForwardTo:s,fastBackwardTo:i,items:[{type:"page",label:1,active:1===e,mayBeFastBackward:!1,mayBeFastForward:!1},{type:"page",label:2,active:2===e,mayBeFastBackward:!0,mayBeFastForward:!1}]};const l=a;let d=e,u=e;const c=(t-5)/2;u+=Math.ceil(c),u=Math.min(Math.max(u,1+t-3),l-2),d-=Math.floor(c),d=Math.max(Math.min(d,l-t+3),3);let p=!1,m=!1;d>3&&(p=!0),u<l-2&&(m=!0);const v=[];v.push({type:"page",label:1,active:1===e,mayBeFastBackward:!1,mayBeFastForward:!1}),p?(r=!0,i=d-1,v.push({type:"fast-backward",active:!1,label:void 0,options:n?U(2,d-1):null})):l>=2&&v.push({type:"page",label:2,mayBeFastBackward:!0,mayBeFastForward:!1,active:2===e});for(let g=d;g<=u;++g)v.push({type:"page",label:g,mayBeFastBackward:!1,mayBeFastForward:!1,active:e===g});return m?(o=!0,s=u+1,v.push({type:"fast-forward",active:!1,label:void 0,options:n?U(u+1,l-1):null})):u===l-2&&v[v.length-1].label!==l-1&&v.push({type:"page",mayBeFastForward:!0,mayBeFastBackward:!1,label:l-1,active:e===l-1}),v[v.length-1].label!==l&&v.push({type:"page",mayBeFastForward:!1,mayBeFastBackward:!1,label:l,active:e===l}),{hasFastBackward:r,hasFastForward:o,fastBackwardTo:i,fastForwardTo:s,items:v}}(y.value,B.value,e.pageSlot,e.showQuickJumpDropdown)));p((()=>{T.value.hasFastBackward?T.value.hasFastForward||(M.value=!1,I.value=!1):(S.value=!1,$.value=!1)}));const A=c((()=>{const a=h.value.selectionSuffix;return e.pageSizes.map((e=>"number"==typeof e?{label:`${e} / ${a}`,value:e}:e))})),R=c((()=>{var t,n;return(null===(n=null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.Pagination)||void 0===n?void 0:n.inputSize)||j(e.size)})),D=c((()=>{var t,n;return(null===(n=null===(t=null==a?void 0:a.value)||void 0===t?void 0:t.Pagination)||void 0===n?void 0:n.selectSize)||j(e.size)})),H=c((()=>(y.value-1)*z.value)),E=c((()=>{const a=y.value*z.value-1,{itemCount:t}=e;return void 0!==t&&a>t-1?t-1:a})),J=c((()=>{const{itemCount:a}=e;return void 0!==a?a:(e.pageCount||1)*z.value})),Q=m("Pagination",r,t);function V(){w((()=>{var e;const{value:a}=b;a&&(a.classList.add("transition-disabled"),null===(e=b.value)||void 0===e||e.offsetWidth,a.classList.remove("transition-disabled"))}))}function q(a){if(a===y.value)return;const{"onUpdate:page":t,onUpdatePage:n,onChange:r,simple:o}=e;t&&F(t,a),n&&F(n,a),r&&F(r,a),f.value=a,o&&(P.value=String(a))}p((()=>{y.value,z.value,V()}));const W=c((()=>{const{size:a}=e,{self:{buttonBorder:t,buttonBorderHover:n,buttonBorderPressed:r,buttonIconColor:i,buttonIconColorHover:s,buttonIconColorPressed:l,itemTextColor:d,itemTextColorHover:u,itemTextColorPressed:c,itemTextColorActive:p,itemTextColorDisabled:m,itemColor:g,itemColorHover:h,itemColorPressed:b,itemColorActive:f,itemColorActiveHover:w,itemColorDisabled:F,itemBorder:k,itemBorderHover:x,itemBorderPressed:C,itemBorderActive:y,itemBorderDisabled:z,itemBorderRadius:B,jumperTextColor:P,jumperTextColorDisabled:M,buttonColor:S,buttonColorHover:I,buttonColorPressed:j,[v("itemPadding",a)]:$,[v("itemMargin",a)]:T,[v("inputWidth",a)]:A,[v("selectWidth",a)]:O,[v("inputMargin",a)]:N,[v("selectMargin",a)]:U,[v("jumperFontSize",a)]:R,[v("prefixMargin",a)]:D,[v("suffixMargin",a)]:H,[v("itemSize",a)]:E,[v("buttonIconSize",a)]:J,[v("itemFontSize",a)]:Q,[`${v("itemMargin",a)}Rtl`]:V,[`${v("inputMargin",a)}Rtl`]:q},common:{cubicBezierEaseInOut:W}}=o.value;return{"--n-prefix-margin":D,"--n-suffix-margin":H,"--n-item-font-size":Q,"--n-select-width":O,"--n-select-margin":U,"--n-input-width":A,"--n-input-margin":N,"--n-input-margin-rtl":q,"--n-item-size":E,"--n-item-text-color":d,"--n-item-text-color-disabled":m,"--n-item-text-color-hover":u,"--n-item-text-color-active":p,"--n-item-text-color-pressed":c,"--n-item-color":g,"--n-item-color-hover":h,"--n-item-color-disabled":F,"--n-item-color-active":f,"--n-item-color-active-hover":w,"--n-item-color-pressed":b,"--n-item-border":k,"--n-item-border-hover":x,"--n-item-border-disabled":z,"--n-item-border-active":y,"--n-item-border-pressed":C,"--n-item-padding":$,"--n-item-border-radius":B,"--n-bezier":W,"--n-jumper-font-size":R,"--n-jumper-text-color":P,"--n-jumper-text-color-disabled":M,"--n-item-margin":T,"--n-item-margin-rtl":V,"--n-button-icon-size":J,"--n-button-icon-color":i,"--n-button-icon-color-hover":s,"--n-button-icon-color-pressed":l,"--n-button-color-hover":I,"--n-button-color":S,"--n-button-color-pressed":j,"--n-button-border":t,"--n-button-border-hover":n,"--n-button-border-pressed":r}})),Z=n?g("pagination",c((()=>{let a="";const{size:t}=e;return a+=t[0],a})),W,e):void 0;return{rtlEnabled:Q,mergedClsPrefix:t,locale:h,selfRef:b,mergedPage:y,pageItems:c((()=>T.value.items)),mergedItemCount:J,jumperValue:P,pageSizeOptions:A,mergedPageSize:z,inputSize:R,selectSize:D,mergedTheme:o,mergedPageCount:B,startIndex:H,endIndex:E,showFastForwardMenu:I,showFastBackwardMenu:$,fastForwardActive:M,fastBackwardActive:S,handleMenuSelect:e=>{q(e)},handleFastForwardMouseenter:()=>{e.disabled||(M.value=!0,V())},handleFastForwardMouseleave:()=>{e.disabled||(M.value=!1,V())},handleFastBackwardMouseenter:()=>{S.value=!0,V()},handleFastBackwardMouseleave:()=>{S.value=!1,V()},handleJumperInput:function(e){P.value=e.replace(/\D+/g,"")},handleBackwardClick:function(){if(e.disabled)return;q(Math.max(y.value-1,1))},handleForwardClick:function(){if(e.disabled)return;q(Math.min(y.value+1,B.value))},handlePageItemClick:function(a){if(!e.disabled)switch(a.type){case"page":q(a.label);break;case"fast-backward":!function(){if(e.disabled)return;q(Math.max(T.value.fastBackwardTo,1))}();break;case"fast-forward":!function(){if(e.disabled)return;q(Math.min(T.value.fastForwardTo,B.value))}()}},handleSizePickerChange:function(a){!function(a){if(a===z.value)return;const{"onUpdate:pageSize":t,onUpdatePageSize:n,onPageSizeChange:r}=e;t&&F(t,a),n&&F(n,a),r&&F(r,a),C.value=a,B.value<y.value&&q(B.value)}(a)},handleQuickJumperChange:function(){!function(){const a=Number.parseInt(P.value);Number.isNaN(a)||(q(Math.max(1,Math.min(a,B.value))),e.simple||(P.value=""))}()},cssVars:n?void 0:W,themeClass:null==Z?void 0:Z.themeClass,onRender:null==Z?void 0:Z.onRender}},render(){const{$slots:e,mergedClsPrefix:t,disabled:n,cssVars:r,mergedPage:o,mergedPageCount:i,pageItems:s,showSizePicker:l,showQuickJumper:d,mergedTheme:u,locale:c,inputSize:p,selectSize:m,mergedPageSize:v,pageSizeOptions:g,jumperValue:w,simple:F,prev:k,next:x,prefix:I,suffix:j,label:T,goto:A,handleJumperInput:O,handleSizePickerChange:N,handleBackwardClick:U,handlePageItemClick:R,handleForwardClick:D,handleQuickJumperChange:H,onRender:E}=this;null==E||E();const J=e.prefix||I,Q=e.suffix||j,V=k||e.prev,q=x||e.next,W=T||e.label;return a("div",{ref:"selfRef",class:[`${t}-pagination`,this.themeClass,this.rtlEnabled&&`${t}-pagination--rtl`,n&&`${t}-pagination--disabled`,F&&`${t}-pagination--simple`],style:r},J?a("div",{class:`${t}-pagination-prefix`},J({page:o,pageSize:v,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null,this.displayOrder.map((e=>{switch(e){case"pages":return a(b,null,a("div",{class:[`${t}-pagination-item`,!V&&`${t}-pagination-item--button`,(o<=1||o>i||n)&&`${t}-pagination-item--disabled`],onClick:U},V?V({page:o,pageSize:v,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount}):a(f,{clsPrefix:t},{default:()=>this.rtlEnabled?a(z,null):a(B,null)})),F?a(b,null,a("div",{class:`${t}-pagination-quick-jumper`},a(C,{value:w,onUpdateValue:O,size:p,placeholder:"",disabled:n,theme:u.peers.Input,themeOverrides:u.peerOverrides.Input,onChange:H})),"Â /"," ",i):s.map(((e,r)=>{let o,i,s;const{type:l}=e;switch(l){case"page":const n=e.label;o=W?W({type:"page",node:n,active:e.active}):n;break;case"fast-forward":const r=this.fastForwardActive?a(f,{clsPrefix:t},{default:()=>this.rtlEnabled?a(M,null):a(P,null)}):a(f,{clsPrefix:t},{default:()=>a($,null)});o=W?W({type:"fast-forward",node:r,active:this.fastForwardActive||this.showFastForwardMenu}):r,i=this.handleFastForwardMouseenter,s=this.handleFastForwardMouseleave;break;case"fast-backward":const l=this.fastBackwardActive?a(f,{clsPrefix:t},{default:()=>this.rtlEnabled?a(P,null):a(M,null)}):a(f,{clsPrefix:t},{default:()=>a($,null)});o=W?W({type:"fast-backward",node:l,active:this.fastBackwardActive||this.showFastBackwardMenu}):l,i=this.handleFastBackwardMouseenter,s=this.handleFastBackwardMouseleave}const d=a("div",{key:r,class:[`${t}-pagination-item`,e.active&&`${t}-pagination-item--active`,"page"!==l&&("fast-backward"===l&&this.showFastBackwardMenu||"fast-forward"===l&&this.showFastForwardMenu)&&`${t}-pagination-item--hover`,n&&`${t}-pagination-item--disabled`,"page"===l&&`${t}-pagination-item--clickable`],onClick:()=>{R(e)},onMouseenter:i,onMouseleave:s},o);if("page"!==l||e.mayBeFastBackward||e.mayBeFastForward){const t="page"===e.type?e.mayBeFastBackward?"fast-backward":"fast-forward":e.type;return"page"===e.type||e.options?a(S,{to:this.to,key:t,disabled:n,trigger:"hover",virtualScroll:!0,style:{width:"60px"},theme:u.peers.Popselect,themeOverrides:u.peerOverrides.Popselect,builtinThemeOverrides:{peers:{InternalSelectMenu:{height:"calc(var(--n-option-height) * 4.6)"}}},nodeProps:()=>({style:{justifyContent:"center"}}),show:"page"!==l&&("fast-backward"===l?this.showFastBackwardMenu:this.showFastForwardMenu),onUpdateShow:e=>{"page"!==l&&(e?"fast-backward"===l?this.showFastBackwardMenu=e:this.showFastForwardMenu=e:(this.showFastBackwardMenu=!1,this.showFastForwardMenu=!1))},options:"page"!==e.type&&e.options?e.options:[],onUpdateValue:this.handleMenuSelect,scrollable:!0,showCheckmark:!1},{default:()=>d}):d}return d})),a("div",{class:[`${t}-pagination-item`,!q&&`${t}-pagination-item--button`,{[`${t}-pagination-item--disabled`]:o<1||o>=i||n}],onClick:D},q?q({page:o,pageSize:v,pageCount:i,itemCount:this.mergedItemCount,startIndex:this.startIndex,endIndex:this.endIndex}):a(f,{clsPrefix:t},{default:()=>this.rtlEnabled?a(B,null):a(z,null)})));case"size-picker":return!F&&l?a(y,Object.assign({consistentMenuWidth:!1,placeholder:"",showCheckmark:!1,to:this.to},this.selectProps,{size:m,options:g,value:v,disabled:n,theme:u.peers.Select,themeOverrides:u.peerOverrides.Select,onUpdateValue:N})):null;case"quick-jumper":return!F&&d?a("div",{class:`${t}-pagination-quick-jumper`},A?A():h(this.$slots.goto,(()=>[c.goto])),a(C,{value:w,onUpdateValue:O,size:p,placeholder:"",disabled:n,theme:u.peers.Input,themeOverrides:u.peerOverrides.Input,onChange:H})):null;default:return null}})),Q?a("div",{class:`${t}-pagination-suffix`},Q({page:o,pageSize:v,pageCount:i,startIndex:this.startIndex,endIndex:this.endIndex,itemCount:this.mergedItemCount})):null)}});export{R as _,N as g};
